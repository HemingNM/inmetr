---
title: "inmetr"
output:
  md_document:
    variant: markdown_github
---


```{r, include=FALSE}
rm(list=ls())
knitr::opts_chunk$set(echo = TRUE)
```

`inmetr` provide access to the "Banco de Dados Meteorol√≥gicos para Ensino e Pesquisa" ([BDMEP](http://www.inmet.gov.br/projetos/rede/pesquisa/)) from the Instituto Nacional de Meteorologia ([INMET](http://www.inmet.gov.br)), Brazil.



## Instalation

Installation of `inmetr` from GitHub is easy using the `devtools` package.

```{r, comment="", eval = FALSE, message=FALSE, error=FALSE}
library(devtools)
install_github('jdtatsch/inmetr')
```

```{r, comment="", message=FALSE}
library(inmetr)
library(dplyr)
```

## Stations ID

To search for meteorological station from INMET we can use the `bdmep_stations()`.

```{r, comment=""}
info <- bdmep_stations()
pander::pandoc.table(head(info))
#str(info)
```

This function will return station names, the brazilian state and OMM code. OMM code is necessary to download data from a meteorological station.

Here we want to know the [OMM code](http://www.wmo.int/pages/prog/www/ois/volume-a/StationIDs_Global_1509.pdf) for the meterological station at Santa Maria in Rio Grande do Sul state.

```{r, comment="", include=FALSE}
code <- filter(info, name == "SANTA MARIA") 
code <- select(code, id)[[1]]
code
```

## Import data

Now we can get the data for Santa Maria city with the function `import_bdmep()`.

```{r, eval=FALSE, comment=""}
sm <- import_bdmep(id = code, 
                   email = "seu-email",
                   passwd = "sua-senha")
head(sm)
#str(sm)
```


```{r, eval=TRUE, echo=FALSE, comment=""}
sm <- import_bdmep(id = code, 
                   email = "jdtatsch@gmail.com",
                   passwd = "d17ulev5")
pander::pandoc.table(head(sm))
#str(sm)
```


